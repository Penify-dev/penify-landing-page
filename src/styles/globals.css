@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --primary-gradient: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%);
  --secondary-gradient: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
  --accent-gradient: linear-gradient(135deg, #f97316 0%, #f43f5e 100%);
  --dark-gradient: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  --glow-shadow: 0 0 15px rgba(74, 222, 128, 0.3);
}

@layer base {
  body {
    @apply bg-slate-900 text-slate-100;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading tracking-tight;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-md bg-gradient-to-r from-green-500 to-blue-600 px-6 py-3 font-medium text-white shadow-md transition-all duration-200 ease-in hover:shadow-lg hover:shadow-green-500/20 focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:ring-offset-2 focus:ring-offset-slate-900;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-md border border-slate-700 bg-slate-800 px-6 py-3 font-medium text-white transition-all duration-200 ease-in hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500/50 focus:ring-offset-2 focus:ring-offset-slate-900;
  }

  .card {
    @apply rounded-xl border border-slate-800 bg-slate-900/50 p-6 shadow-xl backdrop-blur-sm transition-all duration-200 hover:border-slate-700 hover:shadow-green-500/5;
  }

  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-blue-500;
  }
}

@layer utilities {
  .feature-list::before {
    content: "";
    position: absolute;
    left: 0;
    top: 4px;
    width: 1em;
    height: 1em;
    background-repeat: no-repeat;
    background-image: url("../../public/icons/icon-check.svg");
  }

  .bg-grid {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(15 23 42 / 0.04)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
  }

  .bg-grid-slate {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(148 163 184 / 0.05)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
  }

  .mask-linear-gradient {
    mask-image: linear-gradient(to bottom, black 30%, transparent 90%);
  }

  .scrollbar-hidden::-webkit-scrollbar {
    display: none;
  }
  
  .scrollbar-hidden {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .text-glow {
    text-shadow: 0 0 10px rgba(74, 222, 128, 0.5);
  }
}

/* Flow diagram styling */
.flow-container {
  @apply rounded-xl overflow-hidden;
  min-height: 500px;
  isolation: isolate;
}

.react-flow__node {
  @apply select-none;
}

.react-flow__handle {
  @apply w-3 h-3 border-2 border-slate-800 opacity-75 transition-all duration-200;
}

.react-flow__handle.connecting {
  @apply opacity-100 scale-125;
}

.react-flow__edge-path {
  @apply stroke-2;
}

.react-flow__panel {
  @apply bg-transparent;
}

.react-flow__controls {
  @apply rounded-lg border border-slate-700 bg-slate-800/90 backdrop-blur-sm overflow-hidden shadow-lg;
}

.react-flow__controls button {
  @apply border-slate-700 bg-slate-800 text-slate-300 hover:bg-slate-700 transition-colors;
}

/* hide react-flow sponsor label */
.react-flow__panel.react-flow__attribution {
  display: none;
}

/* preloader loading screen */
#preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 999999;
  background-color: #0f172a;
  background-image: radial-gradient(circle at 25% 25%, rgba(74, 222, 128, 0.05) 0%, transparent 50%),
                    radial-gradient(circle at 75% 75%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
}

.loader {
  display: block;
  position: relative;
  left: 50%;
  top: 50%;
  width: 150px;
  height: 150px;
  margin: -75px 0 0 -75px;
  border-radius: 50%;
  border: 3px solid transparent;
  border-top-color: #4ade80;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
}

.loader:before {
  content: "";
  position: absolute;
  top: 5px;
  left: 5px;
  right: 5px;
  bottom: 5px;
  border-radius: 50%;
  border: 3px solid transparent;
  border-top-color: #3b82f6;
  -webkit-animation: spin 3s linear infinite;
  animation: spin 3s linear infinite;
}

.loader:after {
  content: "";
  position: absolute;
  top: 15px;
  left: 15px;
  right: 15px;
  bottom: 15px;
  border-radius: 50%;
  border: 3px solid transparent;
  border-top-color: #8b5cf6;
  -webkit-animation: spin 1.5s linear infinite;
  animation: spin 1.5s linear infinite;
}

@-webkit-keyframes spin {
  0% {
    -webkit-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes spin {
  0% {
    -webkit-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

/* Reserve space for HubSpot widget */
#hubspot-widget-placeholder {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 120px; 
  height: 160px;
  z-index: 10;
  pointer-events: none;
}

/* Handle HubSpot iframe container */
#hubspot-messages-iframe-container {
  position: fixed !important;
  bottom: 0 !important;
  right: 0 !important;
  transition: none !important;
  z-index: 999 !important;
}

/* Ensure iframe itself doesn't cause shifts */
#hubspot-conversations-iframe {
  bottom: 0 !important;
  right: 0 !important;
  height: auto !important;
  max-height: 600px !important;
  transition: none !important;
  opacity: 1 !important;
  transform: translateY(0) !important;
}

/* Handle minimized/expanded states */
.hubspot-loaded #hubspot-messages-iframe-container {
  animation: none !important;
  transform: none !important;
}

/* For banner number counter - prevent layout shift */
p strong.min-w-[60px],
p strong.min-w-[80px] {
  display: inline-block;
  text-align: center;
  min-height: 1.5em;
}

/* Animation utilities */
.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-slow {
  animation: float 8s ease-in-out infinite;
}

.animate-float-fast {
  animation: float 4s ease-in-out infinite;
}

@keyframes float {
  0% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0px);
  }
}
